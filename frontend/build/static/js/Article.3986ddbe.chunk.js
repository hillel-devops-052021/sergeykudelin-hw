(this["webpackJsonpreact-redux-realworld-example-app"]=this["webpackJsonpreact-redux-realworld-example-app"]||[]).push([[0],{78:function(e,t,s){"use strict";s.r(t);var r=s(15),c=s(16),n=s(18),a=s(17),o=s(3),i=s(11),l=s(0),m=s.n(l),u=s(7),j=s(10),d=s(2),b=s(1),h=function(e){var t=e.article;return e.canModify?Object(b.jsxs)("span",{children:[Object(b.jsxs)(i.a,{to:"/editor/".concat(t.slug),className:"btn btn-outline-secondary btn-sm",children:[Object(b.jsx)("i",{className:"ion-edit"})," Edit Article"]}),Object(b.jsxs)("button",{className:"btn btn-outline-danger btn-sm",onClick:function(){e.onClickDelete(u.a.Articles.del(t.slug))},children:[Object(b.jsx)("i",{className:"ion-trash-a"})," Delete Article"]})]}):Object(b.jsx)("span",{})},p=Object(j.c)((function(){return{}}),(function(e){return{onClickDelete:function(t){return e({type:d.m,payload:t})}}}))(m.a.memo(h)),O=function(e){var t=e.article;return Object(b.jsxs)("div",{className:"article-meta",children:[Object(b.jsx)(i.a,{to:"/@".concat(t.author.username),children:Object(b.jsx)("img",{src:t.author.image||"https://static.productionready.io/images/smiley-cyrus.jpg",alt:t.author.username})}),Object(b.jsxs)("div",{className:"info",children:[Object(b.jsx)(i.a,{to:"/@".concat(t.author.username),className:"author",children:t.author.username}),Object(b.jsx)("span",{className:"date",children:new Date(t.createdAt).toDateString()})]}),Object(b.jsx)(p,{canModify:e.canModify,article:t})]})},x=Object(l.memo)(O),f=function(e){Object(n.a)(s,e);var t=Object(a.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={body:""},e.setBody=function(t){e.setState({body:t.target.value})},e.createComment=function(t){t.preventDefault();var s=u.a.Comments.create(e.props.slug,{body:e.state.body});e.setState({body:""}),e.props.onSubmit(s)},e}return Object(c.a)(s,[{key:"render",value:function(){return Object(b.jsxs)("form",{className:"card comment-form",onSubmit:this.createComment,children:[Object(b.jsx)("div",{className:"card-block",children:Object(b.jsx)("textarea",{className:"form-control",placeholder:"Write a comment...",value:this.state.body,onChange:this.setBody,rows:"3"})}),Object(b.jsxs)("div",{className:"card-footer",children:[Object(b.jsx)("img",{src:this.props.currentUser.image||"https://static.productionready.io/images/smiley-cyrus.jpg",className:"comment-author-img",alt:this.props.currentUser.username}),Object(b.jsx)("button",{className:"btn btn-sm btn-primary",type:"submit",children:"Post Comment"})]})]})}}]),s}(m.a.PureComponent),g=Object(j.c)((function(){return{}}),(function(e){return{onSubmit:function(t){return e({type:d.a,payload:t})}}}))(m.a.memo(f)),y=function(e){return e.show?Object(b.jsx)("span",{className:"mod-options",children:Object(b.jsx)("i",{className:"ion-trash-a",onClick:function(){var t=u.a.Comments.delete(e.slug,e.commentId);e.onClick(t,e.commentId)}})}):null},v=Object(j.c)((function(){return{}}),(function(e){return{onClick:function(t,s){return e({type:d.n,payload:t,commentId:s})}}}))(m.a.memo(y)),N=function(e){var t=e.comment,s=e.currentUser&&e.currentUser.username===t.author.username;return Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("div",{className:"card-block",children:Object(b.jsx)("p",{className:"card-text",children:t.body})}),Object(b.jsxs)("div",{className:"card-footer",children:[Object(b.jsx)(i.a,{to:"/@".concat(t.author.username),className:"comment-author",children:Object(b.jsx)("img",{src:t.author.image||"https://static.productionready.io/images/smiley-cyrus.jpg",className:"comment-author-img",alt:t.author.username})}),"\xa0",Object(b.jsx)(i.a,{to:"/@".concat(t.author.username),className:"comment-author",children:t.author.username}),Object(b.jsx)("span",{className:"date-posted",children:new Date(t.createdAt).toDateString()}),Object(b.jsx)(v,{show:s,slug:e.slug,commentId:t.id})]})]})},U=m.a.memo(N),C=function(e){return Object(b.jsx)("div",{children:e.comments.map((function(t){return Object(b.jsx)(U,{comment:t,currentUser:e.currentUser,slug:e.slug},t.id)}))})},k=m.a.memo(C),w=function(e){return e.currentUser?Object(b.jsxs)("div",{className:"col-xs-12 col-md-8 offset-md-2",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("list-errors",{errors:e.errors}),Object(b.jsx)(g,{slug:e.slug,currentUser:e.currentUser})]}),Object(b.jsx)(k,{comments:e.comments,slug:e.slug,currentUser:e.currentUser})]}):Object(b.jsxs)("div",{className:"col-xs-12 col-md-8 offset-md-2",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)(i.a,{to:"/login",children:"Sign in"}),"\xa0or\xa0",Object(b.jsx)(i.a,{to:"/register",children:"sign up"}),"\xa0to add comments on this article."]}),Object(b.jsx)(k,{comments:e.comments,slug:e.slug,currentUser:e.currentUser})]})},D=m.a.memo(w),S=s(72),A=s.n(S),M=function(e){Object(n.a)(s,e);var t=Object(a.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.onLoad(Promise.all([u.a.Articles.get(this.props.match.params.id),u.a.Comments.forArticle(this.props.match.params.id)]))}},{key:"componentWillUnmount",value:function(){this.props.onUnload()}},{key:"render",value:function(){if(!this.props.article)return null;var e={__html:A()(this.props.article.body,{sanitize:!0})},t=this.props.currentUser&&this.props.currentUser.username===this.props.article.author.username;return Object(b.jsxs)("div",{className:"article-page",children:[Object(b.jsx)("div",{className:"banner",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{children:this.props.article.title}),Object(b.jsx)(x,{article:this.props.article,canModify:t})]})}),Object(b.jsxs)("div",{className:"container page",children:[Object(b.jsx)("div",{className:"row article-content",children:Object(b.jsxs)("div",{className:"col-xs-12",children:[Object(b.jsx)("div",{dangerouslySetInnerHTML:e}),Object(b.jsx)("ul",{className:"tag-list",children:this.props.article.tagList.map((function(e){return Object(b.jsx)("li",{className:"tag-default tag-pill tag-outline",children:e},e)}))})]})}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{className:"article-actions"}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)(D,{comments:this.props.comments||[],errors:this.props.commentErrors,slug:this.props.match.params.id,currentUser:this.props.currentUser})})]})]})}}]),s}(m.a.PureComponent);t.default=Object(j.c)((function(e){return Object(o.a)(Object(o.a)({},e.article),{},{currentUser:e.common.currentUser})}),(function(e){return{onLoad:function(t){return e({type:d.f,payload:t})},onUnload:function(){return e({type:d.g})}}}))(M)}}]);
//# sourceMappingURL=Article.3986ddbe.chunk.js.map